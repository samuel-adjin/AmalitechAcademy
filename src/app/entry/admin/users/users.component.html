<div class="container">
  <!-- <div class="entries">
    <p>Show</p>
    <select name="" id="">
      <option value="">2</option>
      <option value="">5</option>
      <option value="">8</option>
      <option value="">10</option>
      <option value="">12</option>
    </select>
    <p>entries</p>
  </div> -->
   <!-- <div class="status" >
        <i class="fas fa-filter stat"></i>
        <p>Status</p>
        <select name="" class="wselect" (change)="getAllTraineesByStatus($event)">
          <option value="">Any</option>
          <option value="CREATED">Created</option>
          <option value="ACTIVATED">Activated</option>
          <option value="COMPLETED">Completed</option>
          <option value="SUSPENDED">Suspended</option>
        </select>
      </div> -->

      <div class="input-group rounded">
        <input type="search" class="form-control rounded" placeholder="User Id" aria-label="Search"
          aria-describedby="search-addon"  #a  (change)= " findUsersByUserId(a.value)"/>
        <span class="input-group-text border-0" id="search-addon" (click)= " findUsersByUserId(a.value)">
          <i class="fas fa-search"  ></i>
        </span>
      </div>
      <div class="input-group rounded">
        <input type="search" class="form-control rounded" placeholder="Username" aria-label="Search"
          aria-describedby="search-addon"  #username  (change) ="findUsersByUsername(username.value)" />
        <span class="input-group-text border-0" id="search-addon" (click) ="findUsersByUsername(username.value)" >
          <i class="fas fa-search"  ></i>
        </span>
      </div>
      <div class="input-group rounded">
        <input type="search" class="form-control rounded" placeholder="find by userGroup" aria-label="Search"
          aria-describedby="search-addon" ngModel name="id" #groupId   (change)= "findUsersByUserGroup(groupId.value)"/>
        <span class="input-group-text border-0" id="search-addon"  (click)= "findUsersByUserGroup(groupId.value)">
          <i class="fas fa-search"  ></i>
        </span>
      </div>
      <div class="input-group rounded">
        <input type="search" class="form-control rounded" placeholder="find by depart..." aria-label="Search"
          aria-describedby="search-addon" ngModel name="id" #depart (change)=" findUsersByDepartId(depart.value)"  />
        <span class="input-group-text border-0" id="search-addon" >
          <i class="fas fa-search" (click)=" findUsersByDepartId(depart.value)" ></i>
        </span>
      </div>
</div>
<div class="btnCon" >
  <button type="button" class="btn btn-primary btn-sm" (click) =add(1) >Add New User</button>
</div>

<div class="table-wrapper-scroll-y my-custom-scrollbar pos">
  <table class="table table-bordered table-striped mb-0">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Username</th>
        <th scope="col">Email</th>
         <th scope="col">UserGroup</th>
          <th scope="col">Department</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let u of user; index as i">
        <th scope="row">{{i+1}}</th>
        <td>{{u.name}}</td>
        <td>{{u.email}}</td>
        <td>{{u.userGroup.name}}</td>
        <td>{{u.department.departname}}</td>
        <td class="edit">
          <div class="edt">
            <i class="far fa-edit pen" (click) = "add2(u.id,3)"></i>
          </div>
          <div>
            <i class="fas fa-trash-alt trash" (click) = "add2(u.id,2)"></i>
          </div>











         
        </td>
      </tr>
     
    </tbody>
  </table>
 

</div>

<!-- delete modal user -->
<div class= "a " *ngIf ="showAdd === 2" >
  <div class="del" >
  <p>Are you sure you want to delete User</p>
    <div class="delbtn">
      <button type="button" class="btn btn-primary  size" (click) ="deleteUser(user.id)" >Yes</button>
      <button type="button" class="btn btn-danger size" (click) ="close()">No</button>


    </div>
  </div> 
 
</div>
<!-- modal delete user -->
 <!-- modal add user-->
 <div class= "a " *ngIf ="showAdd === 1" >
    <div class="m" >
     <div class="cap">
       Add New User
     </div>
      <form action="" class="addform" #userRecords = "ngForm" (ngSubmit) ="createNewUser(userRecords.value)">
        <label for="">User Name</label>
        <input type="text" class="form-control" name="username" required #username="ngModel" placeholder="UserName" ngModel>
        <span *ngIf="!username.valid && username.touched"  class = "error">Username  is required</span>

        <label for="">Email</label>
        <input type="text" name="email" required class="form-control" required #email = "ngModel" placeholder="Email" ngModel>
        <span *ngIf="!email.valid && email.touched"  class = "error">Email  is required</span>

        <label for="">Select UserGroup</label>
        <select name="groupId" #grp="ngModel" class="form-control" required ngModel>
          <option value="1">Super</option>
          <option value="3">Trainer</option>
          <option value="4">Admin</option>
        </select>
        <span *ngIf="!grp.valid && grp.touched"  class = "error">Select UserGroup</span>

        <label for="">Select Department</label>
        <select name="deptId"  #dept = "ngModel" class="form-control" required ngModel>
          <option value="1">Sales Force</option>
          <option value="2">Media and Design</option>
          <option value="3">Data Science</option>
          <option value="4">Software Development</option>
        </select>
        <span *ngIf="!dept.valid && dept.touched"  class = "error">Select Department</span>

        <div class="addbtn">
          <button type="submit" [disabled] = "!userRecords.valid" class="btn btn-primary btn-lg"  >Add user</button>
          <button type="button" class="btn btn-danger size" (click) ="close()">Close</button>
        </div> 
      </form> 
    </div> 
   
</div>
 <!-- modal add user-->


 <!-- modal update user -->
 <div class= "a " *ngIf ="showAdd === 3" >
    <div class="m" >
     <div class="cap">
       Update User
     </div>
      <form action="" class="addform" #userRecords = "ngForm" (ngSubmit) ="createNewUser(userRecords.value)">
        <label for="">User Name</label>
        <input type="text" class="form-control" name="username" required #username="ngModel" placeholder="UserName" ngModel>
        <span *ngIf="!username.valid && username.touched"  class = "error">Username  is required</span>

        <label for="">Email</label>
        <input type="text" name="email" required class="form-control" required #email = "ngModel" placeholder="Email" ngModel>
        <span *ngIf="!email.valid && email.touched"  class = "error">Email  is required</span>

        <label for="">Select UserGroup</label>
        <select name="groupId" #grp="ngModel" class="form-control" required ngModel>
          <option value="1">Super</option>
          <option value="3">Trainer</option>
          <option value="4">Admin</option>
        </select>
        <span *ngIf="!grp.valid && grp.touched"  class = "error">Select UserGroup</span>

        <label for="">Select Department</label>
        <select name="deptId"  #dept = "ngModel" class="form-control" required ngModel>
          <option value="1">Sales Force</option>
          <option value="2">Media and Design</option>
          <option value="3">Data Science</option>
          <option value="4">Software Development</option>
        </select>
        <span *ngIf="!dept.valid && dept.touched"  class = "error">Select Department</span>

        <div class="addbtn">
          <button type="submit" [disabled] = "!userRecords.valid" class="btn btn-primary btn-lg"  >Add user</button>
          <button type="button" class="btn btn-danger size" (click) ="close()">Close</button>
        </div> 
      </form> 
    </div> 
   
</div>
<!-- modal add user -->

